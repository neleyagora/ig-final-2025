<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Claromecó - Trivia </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="estilos.css">

    

</head>

<body>
    <div class="background">
        <header>
          <nav class="navbar navbar-expand-md navbar-dark text-dark" aria-label="Fourth navbar example">
            <div class="container-fluid">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarsExample04" aria-controls="navbarsExample04" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse " id="navbarsExample04">
                    <ul class="navbar-nav me-auto mb-2 mb-md-0">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="index.html">Inicio</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="historia.html">Historia</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle " href="#" id="dropdownMenuLinkUbicacion"
                                data-bs-toggle="dropdown" aria-expanded="false">Ubicación</a>
                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuLinkUbicacion">
                                <li><a class="dropdown-item" href="ubicacion/lugar.html">Cómo llegar</a></li>
                                <li><a class="dropdown-item" href="ubicacion/mapalocal.html">Mapa Local</a></li>
                                <li><a class="dropdown-item" href="ubicacion/camara.html">Cámara en vivo</a></li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="dropdownMenuLinkGaleria"
                                data-bs-toggle="dropdown" aria-expanded="false">Galería de fotos</a>
                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuLinkGaleria">
                                <li><a class="dropdown-item" href="galeria/playas.html">Playas</a></li>
                                <li><a class="dropdown-item" href="galeria/faro.html">Faro</a></li>
                                <li><a class="dropdown-item" href="galeria/arroyo.html">Paseo del arroyo</a></li>
                                
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="dropdownMenuLinkGaleria"
                                data-bs-toggle="dropdown" aria-expanded="false">Paseos</a>
                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuLinkGaleria">
                                <li><a class="dropdown-item" href="paseos/cascadas.html">Las siete cascadas</a></li>
                                <li><a class="dropdown-item" href="paseos/dunamar.html">Dunamar</a></li>
                                <li><a class="dropdown-item" href="paseos/vivero.html">Reserva Natural</a></li>
                                
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="dropdownMenuLinkCuriosidades"
                                data-bs-toggle="dropdown" aria-expanded="false">Curiosidades</a>
                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuLinkCuriosidades">

                                <li><a class="dropdown-item" href="curiosidades/corvina.html">24 Horas de la Corvina Negra</a>
                                </li>
                                <li><a class="dropdown-item" href="curiosidades/historiadelfaro.html">El faro y la Guerra de
                                        Malvinas</a></li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="trivia.html">Trivia</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="contacto.html">Contacto</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="about.html">Acerca de</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
         
        </header>

        <div class="container mt-5">
            <div class="row justify-content-center">
                <!-- Caja envolvente de las tarjetas -->
                <div class="col-md-12 caja-envolvente">
                    <div class="row justify-content-center">
                        <section class="card-body">
                          <h2 class="card-title">TRIVIA CLAROMEQUENSE</h2>
                          <br>
                          <p>
                            Respondé correctamente las preguntas para alcanzar el mayor puntaje posible.
                            Tenés 2 pistas disponibles por pregunta, pero sólo 3 totales para toda la partida. Tené en cuenta que si utilizás pistas, restás puntos.
                          </p>
                          <h2 class="card-title">Instrucciones</h2>
                          <p>
                            ¿Cuánto sabés sobre Claromecó? Responde las siguientes preguntas y descubre tu puntuación final.
                          </p>

                          <button id="startGame" class="btn btn-primary">Comenzar Juego</button>
                          <div id="trivia" class="hidden">
                              <form id="triviaForm">
                                  <div id="questions"></div>
                                  <button type="button" id="submitAnswers" class="btn btn-success">Enviar Respuestas</button>
                              </form>
                              <p>Puntaje: <span id="score">0</span></p>
                              <p>Pistas disponibles: <span id="hintsLeft">3</span></p>
                              <button id="restartGame" class="btn btn-danger hidden">Reiniciar Juego</button>
                          </div>
                          </section>
                          


                    </div>
                </div>
            </div>
        </div>
        <footer>
            &copy; 2022 MAG, Informática General
        </footer>
    </div>





    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
        <script>
          let score = 0, hintsUsed = 0;
          const maxHints = 3;
          const questions = [
              { question: "¿Cuál es la población de Claromecó?", options: ["1000-2000", "2000-3000", "3000-4000", "4000-5000"], answer: 1, hint: "Está entre 2000 y 3000 habitantes." },
              { question: "¿Qué atractivo turístico es famoso por una publicidad?", options: ["Playa", "Faro", "Reserva", "Arroyo"], answer: 1, hint: "Es una torre de luz." },
              { question: "¿Cuántos años cumple Claromecó en 2025?", options: ["100", "105", "110", "115"], answer: 1, hint: "Se fundó en 1920." },
              { question: "¿Qué océano baña Claromecó?", options: ["Atlántico Norte", "Pacífico", "Índico", "Atlántico Sur"], answer: 3, hint: "Es parte del Atlántico." },
              { question: "¿Cuándo se ve el sol sobre el mar?", options: ["Amanecer", "Atardecer", "Ambos", "Nunca"], answer: 2, hint: "Se ve tanto al comenzar como al terminar el día." }
          ];
          
          document.getElementById('startGame').addEventListener('click', () => {
              document.getElementById('trivia').classList.remove('hidden');
              document.getElementById('startGame').classList.add('hidden');
              loadQuestions();
          });
        
          function loadQuestions() {
              const questionsDiv = document.getElementById('questions');
              questionsDiv.innerHTML = '';
              questions.forEach((q, index) => {
                  const div = document.createElement('div');
                  div.innerHTML = `<p>${q.question}</p>` + q.options.map((opt, i) =>
                      `<label><input type="radio" name="q${index}" value="${i}"> ${opt}</label><br>`
                  ).join('') + `
                  <button type="button" id="hintBtn${index}" onclick="useHint(${index})" class="btn btn-warning">Pista</button>
                  <p id="hint${index}" class="hidden">${q.hint}</p>`;
                  questionsDiv.appendChild(div);
              });
          }
        
          function useHint(index) {
              if (hintsUsed < maxHints) {
                  document.getElementById(`hint${index}`).classList.remove('hidden');
                  document.getElementById(`hintBtn${index}`).disabled = true;
                  hintsUsed++;
                  score = Math.max(0, score - 10);
                  updateScore();
                  
                  alert(`Pista: ${questions[index].hint}\nPistas restantes: ${maxHints - hintsUsed}`);
        
                  if (hintsUsed === maxHints) {
                      alert("Ya no tienes pistas disponibles.");
                      disableHintButtons();
                  }
              }
          }
        
          function disableHintButtons() {
              const hintButtons = document.querySelectorAll('[id^=hintBtn]');
              hintButtons.forEach(btn => btn.disabled = true);
          }
        
          document.getElementById('submitAnswers').addEventListener('click', () => {
              let allAnswered = true;
        
              // Primero, verificamos si hay preguntas sin responder
              questions.forEach((q, index) => {
                  const selected = document.querySelector(`input[name="q${index}"]:checked`);
                  if (!selected) {
                      allAnswered = false;
                  }
              });
        
              if (!allAnswered) {
                  alert("Debes responder todas las preguntas antes de enviar.");
                  return;
              }
        
              // Si todas están respondidas, evaluamos y coloreamos
              questions.forEach((q, index) => {
                  const selected = document.querySelector(`input[name="q${index}"]:checked`);
                  const questionContainer = document.querySelector(`input[name="q${index}"]`).parentElement.parentElement;
        
                  const userAnswer = parseInt(selected.value);
                  if (userAnswer === q.answer) {
                      score += 20;
                      questionContainer.style.backgroundColor = "lightgreen"; // Correcta en verde
                  } else {
                      questionContainer.style.backgroundColor = "lightcoral"; // Incorrecta en rojo
                  }
              });
        
              updateScore();
              document.getElementById('restartGame').classList.remove('hidden');
          });
        
          function updateScore() {
              document.getElementById('score').textContent = score;
              document.getElementById('hintsLeft').textContent = maxHints - hintsUsed;
          }
        
          document.getElementById('restartGame').addEventListener('click', () => {
              score = 0; hintsUsed = 0;
              document.getElementById('score').textContent = '0';
              document.getElementById('hintsLeft').textContent = '3';
              document.getElementById('triviaForm').reset();
              document.getElementById('restartGame').classList.add('hidden');
              loadQuestions();
          });
        </script>
    
</body>

</html>